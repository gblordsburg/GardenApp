<script type="text/javascript">
    function toggleReplyForm() {
        alert('hello');
        reply_form = '<tr><td><form action="" method="post">{{ form3.hidden_tag() }}<p>{{ form3.reply_post.label }}<br>{{ form3.reply_post(class="form-control") }}<br>{% for error in form3.reply_post.errors %}<span style="color: red;">[{{ error }}]</span>{% endfor %}</p><p>{{ form3.submit3(class="btn btn-default") }}</p></form></td></tr>';
        document.getElementById("post-table").insertAdjacentHTML("beforeend", reply_form);
    }
</script>




    <table class="table table-hover" id="post-table">
        <tr>
            <td width="70px">
                <a href="{{ url_for('main.user', username=post.author.username) }}">
                    <img src="{{ post.author.avatar(70) }}" />
                </a>
            </td>
            <td>
                <a href="{{ url_for('main.user', username=post.author.username) }}">
                    {{ post.author.username }}
                </a>
                said {{ moment(post.timestamp).fromNow() }}:
                <br>
                {{ post.body }}
            </td>
            <td>
                <button type="button" onclick=toggleReplyForm()>Reply</button>
            </td>
        </tr>
        <tr>
        </tr>
        {% if form3 %}
        <tr>
            <td>
                <form action="" method="post">
                    {{ form3.hidden_tag() }}
                    <p>
                        {{ form3.reply_post.label }}<br>
                        {{ form3.reply_post(class="form-control") }}<br>
                        {% for error in form3.reply_post.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </p>
                    <p>{{ form3.submit3(class="btn btn-default") }}</p>
                </form>
            </td>
        </tr>
        {% endif %}
    </table>